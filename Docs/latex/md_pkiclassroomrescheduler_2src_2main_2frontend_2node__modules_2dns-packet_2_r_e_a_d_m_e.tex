\chapter{dns-\/packet}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e}{}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e}\index{dns-\/packet@{dns-\/packet}}
\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8648}%
\Hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8648}%
\href{https://www.npmjs.org/package/dns-packet}{\texttt{ }} \href{https://www.npmjs.org/package/dns-packet}{\texttt{ }} \href{https://github.com/github/mafintosh/dns-packet/workflows/ci.yml}{\texttt{ }} \href{https://coveralls.io/github/mafintosh/dns-packet?branch=master}{\texttt{ }}

An \href{https://github.com/mafintosh/abstract-encoding}{\texttt{ abstract-\/encoding}} compliant module for encoding / decoding DNS packets. Lifted out of \href{https://github.com/mafintosh/multicast-dns}{\texttt{ multicast-\/dns}} as a separate module.


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ dns-\/packet}

\end{DoxyCode}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8649}{}\doxysection{\texorpdfstring{UDP Usage}{UDP Usage}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8649}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{const\ dnsPacket\ =\ require('dns-\/packet')}
\DoxyCodeLine{const\ dgram\ =\ require('dgram')}
\DoxyCodeLine{}
\DoxyCodeLine{const\ socket\ =\ dgram.createSocket('udp4')}
\DoxyCodeLine{}
\DoxyCodeLine{const\ buf\ =\ dnsPacket.encode(\{}
\DoxyCodeLine{\ \ type:\ 'query',}
\DoxyCodeLine{\ \ id:\ 1,}
\DoxyCodeLine{\ \ flags:\ dnsPacket.RECURSION\_DESIRED,}
\DoxyCodeLine{\ \ questions:\ [\{}
\DoxyCodeLine{\ \ \ \ type:\ 'A',}
\DoxyCodeLine{\ \ \ \ name:\ 'google.com'}
\DoxyCodeLine{\ \ \}]}
\DoxyCodeLine{\})}
\DoxyCodeLine{}
\DoxyCodeLine{socket.on('message',\ message\ =>\ \{}
\DoxyCodeLine{\ \ console.log(dnsPacket.decode(message))\ //\ prints\ out\ a\ response\ from\ google\ dns}
\DoxyCodeLine{\})}
\DoxyCodeLine{}
\DoxyCodeLine{socket.send(buf,\ 0,\ buf.length,\ 53,\ '8.8.8.8')}

\end{DoxyCode}


Also see \href{examples/udp.js}{\texttt{ the UDP example}}.\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8650}{}\doxysection{\texorpdfstring{TCP, TLS, HTTPS}{TCP, TLS, HTTPS}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8650}
While DNS has traditionally been used over a datagram transport, it is increasingly being carried over TCP for larger responses commonly including DNSSEC responses and TLS or HTTPS for enhanced security. See below examples on how to use {\ttfamily dns-\/packet} to wrap DNS packets in these protocols\+:


\begin{DoxyItemize}
\item \href{examples/tcp.js}{\texttt{ TCP}}
\item \href{examples/tls.js}{\texttt{ DNS over TLS}}
\item \href{examples/doh.js}{\texttt{ DNS over HTTPS}}
\end{DoxyItemize}\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8651}{}\doxysection{\texorpdfstring{API}{API}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8651}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8652}{}\doxysubsubsection{\texorpdfstring{{\ttfamily var buf = packets.\+encode(packet, \mbox{[}buf\mbox{]}, \mbox{[}offset\mbox{]})}}{{\ttfamily var buf = packets.\+encode(packet, \mbox{[}buf\mbox{]}, \mbox{[}offset\mbox{]})}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8652}
Encodes a DNS packet into a buffer containing a UDP payload.\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8653}{}\doxysubsubsection{\texorpdfstring{{\ttfamily var packet = packets.\+decode(buf, \mbox{[}offset\mbox{]})}}{{\ttfamily var packet = packets.\+decode(buf, \mbox{[}offset\mbox{]})}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8653}
Decode a DNS packet from a buffer containing a UDP payload.\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8654}{}\doxysubsubsection{\texorpdfstring{{\ttfamily var buf = packets.\+stream\+Encode(packet, \mbox{[}buf\mbox{]}, \mbox{[}offset\mbox{]})}}{{\ttfamily var buf = packets.\+stream\+Encode(packet, \mbox{[}buf\mbox{]}, \mbox{[}offset\mbox{]})}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8654}
Encodes a DNS packet into a buffer containing a TCP payload.\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8655}{}\doxysubsubsection{\texorpdfstring{{\ttfamily var packet = packets.\+stream\+Decode(buf, \mbox{[}offset\mbox{]})}}{{\ttfamily var packet = packets.\+stream\+Decode(buf, \mbox{[}offset\mbox{]})}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8655}
Decode a DNS packet from a buffer containing a TCP payload.\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8656}{}\doxysubsubsection{\texorpdfstring{{\ttfamily var len = packets.\+encoding\+Length(packet)}}{{\ttfamily var len = packets.\+encoding\+Length(packet)}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8656}
Returns how many bytes are needed to encode the DNS packet\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8657}{}\doxysection{\texorpdfstring{Packets}{Packets}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8657}
Packets look like this


\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ type:\ 'query|response',}
\DoxyCodeLine{\ \ id:\ optionalIdNumber,}
\DoxyCodeLine{\ \ flags:\ optionalBitFlags,}
\DoxyCodeLine{\ \ questions:\ [...],}
\DoxyCodeLine{\ \ answers:\ [...],}
\DoxyCodeLine{\ \ additionals:\ [...],}
\DoxyCodeLine{\ \ authorities:\ [...]}
\DoxyCodeLine{\}}

\end{DoxyCode}


The bit flags available are


\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{packet.RECURSION\_DESIRED}
\DoxyCodeLine{packet.RECURSION\_AVAILABLE}
\DoxyCodeLine{packet.TRUNCATED\_RESPONSE}
\DoxyCodeLine{packet.AUTHORITATIVE\_ANSWER}
\DoxyCodeLine{packet.AUTHENTIC\_DATA}
\DoxyCodeLine{packet.CHECKING\_DISABLED}

\end{DoxyCode}


To use more than one flag bitwise-\/or them together


\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{var\ flags\ =\ packet.RECURSION\_DESIRED\ |\ packet.RECURSION\_AVAILABLE}

\end{DoxyCode}


And to check for a flag use bitwise-\/and


\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{var\ isRecursive\ =\ message.flags\ \&\ packet.RECURSION\_DESIRED}

\end{DoxyCode}


A question looks like this


\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ type:\ 'A',\ //\ or\ SRV,\ AAAA,\ etc}
\DoxyCodeLine{\ \ class:\ 'IN',\ //\ one\ of\ IN,\ CS,\ CH,\ HS,\ ANY.\ Default:\ IN}
\DoxyCodeLine{\ \ name:\ 'google.com'\ //\ which\ record\ are\ you\ looking\ for}
\DoxyCodeLine{\}}

\end{DoxyCode}


And an answer, additional, or authority looks like this


\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ type:\ 'A',\ //\ or\ SRV,\ AAAA,\ etc}
\DoxyCodeLine{\ \ class:\ 'IN',\ //\ one\ of\ IN,\ CS,\ CH,\ HS}
\DoxyCodeLine{\ \ name:\ 'google.com',\ //\ which\ name\ is\ this\ record\ for}
\DoxyCodeLine{\ \ ttl:\ optionalTimeToLiveInSeconds,}
\DoxyCodeLine{\ \ (record\ specific\ data,\ see\ below)}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8658}{}\doxysection{\texorpdfstring{Supported record types}{Supported record types}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8658}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8659}{}\doxysubsubsection{\texorpdfstring{{\ttfamily A}}{{\ttfamily A}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8659}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ data:\ 'IPv4\ address'\ //\ fx\ 127.0.0.1}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8660}{}\doxysubsubsection{\texorpdfstring{{\ttfamily AAAA}}{{\ttfamily AAAA}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8660}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ data:\ 'IPv6\ address'\ //\ fx\ fe80::1}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8661}{}\doxysubsubsection{\texorpdfstring{{\ttfamily CAA}}{{\ttfamily CAA}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8661}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ flags:\ 128,\ //\ octet}
\DoxyCodeLine{\ \ tag:\ 'issue|issuewild|iodef',}
\DoxyCodeLine{\ \ value:\ 'ca.example.net',}
\DoxyCodeLine{\ \ issuerCritical:\ false}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8662}{}\doxysubsubsection{\texorpdfstring{{\ttfamily CNAME}}{{\ttfamily CNAME}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8662}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ data:\ 'cname.to.another.record'}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8663}{}\doxysubsubsection{\texorpdfstring{{\ttfamily DNAME}}{{\ttfamily DNAME}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8663}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ data:\ 'dname.to.another.record'}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8664}{}\doxysubsubsection{\texorpdfstring{{\ttfamily DNSKEY}}{{\ttfamily DNSKEY}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8664}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ flags:\ 257,\ //\ 16\ bits}
\DoxyCodeLine{\ \ algorithm:\ 1,\ //\ octet}
\DoxyCodeLine{\ \ key:\ Buffer}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8665}{}\doxysubsubsection{\texorpdfstring{{\ttfamily DS}}{{\ttfamily DS}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8665}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ keyTag:\ 12345,}
\DoxyCodeLine{\ \ algorithm:\ 8,}
\DoxyCodeLine{\ \ digestType:\ 1,}
\DoxyCodeLine{\ \ digest:\ Buffer}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8666}{}\doxysubsubsection{\texorpdfstring{{\ttfamily HINFO}}{{\ttfamily HINFO}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8666}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ data:\ \{}
\DoxyCodeLine{\ \ \ \ cpu:\ 'cpu\ info',}
\DoxyCodeLine{\ \ \ \ os:\ 'os\ info'}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8667}{}\doxysubsubsection{\texorpdfstring{{\ttfamily MX}}{{\ttfamily MX}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8667}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ preference:\ 10,}
\DoxyCodeLine{\ \ exchange:\ 'mail.example.net'}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8668}{}\doxysubsubsection{\texorpdfstring{{\ttfamily NAPTR}}{{\ttfamily NAPTR}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8668}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ data:}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ order:\ 100,}
\DoxyCodeLine{\ \ \ \ \ \ preference:\ 10,}
\DoxyCodeLine{\ \ \ \ \ \ flags:\ 's',}
\DoxyCodeLine{\ \ \ \ \ \ services:\ 'SIP+D2U',}
\DoxyCodeLine{\ \ \ \ \ \ regexp:\ '!\string^.*\$!sip:customer-\/service@example.com!',}
\DoxyCodeLine{\ \ \ \ \ \ replacement:\ '\_sip.\_udp.example.com'}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8669}{}\doxysubsubsection{\texorpdfstring{{\ttfamily NS}}{{\ttfamily NS}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8669}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ data:\ nameServer}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8670}{}\doxysubsubsection{\texorpdfstring{{\ttfamily NSEC}}{{\ttfamily NSEC}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8670}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ nextDomain:\ 'a.domain',}
\DoxyCodeLine{\ \ rrtypes:\ ['A',\ 'TXT',\ 'RRSIG']}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8671}{}\doxysubsubsection{\texorpdfstring{{\ttfamily NSEC3}}{{\ttfamily NSEC3}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8671}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ algorithm:\ 1,}
\DoxyCodeLine{\ \ flags:\ 0,}
\DoxyCodeLine{\ \ iterations:\ 2,}
\DoxyCodeLine{\ \ salt:\ Buffer,}
\DoxyCodeLine{\ \ nextDomain:\ Buffer,\ //\ Hashed\ per\ RFC5155}
\DoxyCodeLine{\ \ rrtypes:\ ['A',\ 'TXT',\ 'RRSIG']}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8672}{}\doxysubsubsection{\texorpdfstring{{\ttfamily NULL}}{{\ttfamily NULL}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8672}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ data:\ Buffer('any\ binary\ data')}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8673}{}\doxysubsubsection{\texorpdfstring{{\ttfamily OPT}}{{\ttfamily OPT}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8673}
\href{https://tools.ietf.org/html/rfc6891}{\texttt{ EDNS0}} options.


\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ type:\ 'OPT',}
\DoxyCodeLine{\ \ name:\ '.',}
\DoxyCodeLine{\ \ udpPayloadSize:\ 4096,}
\DoxyCodeLine{\ \ flags:\ packet.DNSSEC\_OK,}
\DoxyCodeLine{\ \ options:\ [\{}
\DoxyCodeLine{\ \ \ \ //\ pass\ in\ any\ code/data\ for\ generic\ EDNS0\ options}
\DoxyCodeLine{\ \ \ \ code:\ 12,}
\DoxyCodeLine{\ \ \ \ data:\ Buffer.alloc(31)}
\DoxyCodeLine{\ \ \},\ \{}
\DoxyCodeLine{\ \ \ \ //\ Several\ EDNS0\ options\ have\ enhanced\ support}
\DoxyCodeLine{\ \ \ \ code:\ 'PADDING',}
\DoxyCodeLine{\ \ \ \ length:\ 31,}
\DoxyCodeLine{\ \ \},\ \{}
\DoxyCodeLine{\ \ \ \ code:\ 'CLIENT\_SUBNET',}
\DoxyCodeLine{\ \ \ \ family:\ 2,\ //\ 1\ for\ IPv4,\ 2\ for\ IPv6}
\DoxyCodeLine{\ \ \ \ sourcePrefixLength:\ 64,\ //\ used\ to\ truncate\ IP\ address}
\DoxyCodeLine{\ \ \ \ scopePrefixLength:\ 0,}
\DoxyCodeLine{\ \ \ \ ip:\ 'fe80::',}
\DoxyCodeLine{\ \ \},\ \{}
\DoxyCodeLine{\ \ \ \ code:\ 'TCP\_KEEPALIVE',}
\DoxyCodeLine{\ \ \ \ timeout:\ 150\ //\ increments\ of\ 100ms.\ \ This\ means\ 15s.}
\DoxyCodeLine{\ \ \},\ \{}
\DoxyCodeLine{\ \ \ \ code:\ 'KEY\_TAG',}
\DoxyCodeLine{\ \ \ \ tags:\ [1,\ 2,\ 3],}
\DoxyCodeLine{\ \ \}]}
\DoxyCodeLine{\}}

\end{DoxyCode}


The options {\ttfamily PADDING}, {\ttfamily CLIENT\+\_\+\+SUBNET}, {\ttfamily TCP\+\_\+\+KEEPALIVE} and {\ttfamily KEY\+\_\+\+TAG} support enhanced de/encoding. See \href{https://github.com/mafintosh/dns-packet/blob/master/optioncodes.js}{\texttt{ optionscodes.\+js}} for all supported option codes. If the {\ttfamily data} property is present on a option, it takes precedence. On decoding, {\ttfamily data} will always be defined.\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8674}{}\doxysubsubsection{\texorpdfstring{{\ttfamily PTR}}{{\ttfamily PTR}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8674}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ data:\ 'points.to.another.record'}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8675}{}\doxysubsubsection{\texorpdfstring{{\ttfamily RP}}{{\ttfamily RP}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8675}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ mbox:\ 'admin.example.com',}
\DoxyCodeLine{\ \ txt:\ 'txt.example.com'}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8676}{}\doxysubsubsection{\texorpdfstring{{\ttfamily SSHFP}}{{\ttfamily SSHFP}}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8676}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ algorithm:\ 1,}
\DoxyCodeLine{\ \ hash:\ 1,}
\DoxyCodeLine{\ \ fingerprint:\ 'A108C9F834354D5B37AF988141C9294822F5BC00'}
\DoxyCodeLine{\}}
\DoxyCodeLine{\`{}\`{}\`{}\`{}}
\DoxyCodeLine{}
\DoxyCodeLine{\#\#\#\#\ \`{}RRSIG`}

\end{DoxyCode}
 js \{ type\+Covered\+: \textquotesingle{}A\textquotesingle{}, algorithm\+: 8, labels\+: 1, original\+TTL\+: 3600, expiration\+: timestamp, inception\+: timestamp, key\+Tag\+: 12345, signers\+Name\+: \textquotesingle{}a.\+name\textquotesingle{}, signature\+: Buffer \} 
\begin{DoxyCode}{0}
\DoxyCodeLine{\#\#\#\#\ \`{}SOA`}

\end{DoxyCode}
 js \{ data\+: \{ mname\+: domain\+Name, rname\+: mailbox, serial\+: zone\+Serial, refresh\+: refresh\+Interval, retry\+: retry\+Interval, expire\+: expire\+Interval, minimum\+: minimum\+TTL \} \} 
\begin{DoxyCode}{0}
\DoxyCodeLine{\#\#\#\#\ \`{}SRV`}

\end{DoxyCode}
 js \{ data\+: \{ port\+: service\+Port, target\+: service\+Host\+Name, priority\+: optional\+Service\+Priority, weight\+: optional\+Service\+Weight \} \} 
\begin{DoxyCode}{0}
\DoxyCodeLine{\#\#\#\#\ \`{}TLSA`}

\end{DoxyCode}
 js \{ usage\+: 3, selector\+: 1, matching\+Type\+: 1, certificate\+: Buffer \} 
\begin{DoxyCode}{0}
\DoxyCodeLine{\#\#\#\#\ \`{}TXT`}

\end{DoxyCode}
 js \{ data\+: \textquotesingle{}text\textquotesingle{} \texorpdfstring{$\vert$}{|}\texorpdfstring{$\vert$}{|} Buffer \texorpdfstring{$\vert$}{|}\texorpdfstring{$\vert$}{|} \mbox{[} Buffer \texorpdfstring{$\vert$}{|}\texorpdfstring{$\vert$}{|} \textquotesingle{}text\textquotesingle{} \mbox{]} \} \`{}\`{}\`{}

When encoding, scalar values are converted to an array and strings are converted to UTF-\/8 encoded Buffers. When decoding, the return value will always be an array of Buffer.

If you need another record type, open an issue and we\textquotesingle{}ll try to add it.\hypertarget{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8677}{}\doxysection{\texorpdfstring{License}{License}}\label{md_pkiclassroomrescheduler_2src_2main_2frontend_2node__modules_2dns-packet_2_r_e_a_d_m_e_autotoc_md8677}
MIT 